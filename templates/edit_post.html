{% extends 'base.html' %}

{% block title %}
	Edit post
{% endblock %}

{% block content_title %}
<div class='col-md-8' style="text-align: center; margin-left: auto;
    margin-right: auto;">
    <h1>Edit post</h1>
</div>
{% endblock %}

{% block content %}
	
	<div class='col-md-10' style="margin-left: auto;
    margin-right: auto; position: inherit;">

		<form action="" method="POST">

			{% for field in form %}
                <div class="form-group">
                    {{ field(class='form-control form-value', autocomplete='off', placeholder=field.id) }}
                    {% if field.lable != 'Category' %}
                        {% for validator in field.validators %}
                            {% if 'min' in validator.__dict__ %}
                            <small min={{ validator.min }} max={{ validator.max }} id="form_{{ field.label.field_id }}_input_length_display" class="form-text ml-1" style="display: none; color: grey; text-align: left !important;">0/{{ validator.min }}</small>
                            {% endif %}
                        {% endfor %}                    
                    {% endif %}
                    {% for error in field.errors %}
                        {% if field.id == 'tags' %}
                            {{ error|safe }}
                        {% else %}
                            <span style="color: red;">{{ error }}</span>
                        {% endif %}
                    {% endfor %}
                </div>
            {% endfor %}
				
                <div class="" style="text-align: center; margin-left: auto;
        margin-right: auto;">
                    <button name="submit" value="save" type="submit" class="btn btn-info">Save</button>
                    {% if not post.visible %}
                        <button name="submit" value="publish" type="submit" class="btn btn-success">Publish</button>
                    {% endif %}
                    <button name="submit" value="cancel" type="submit" class="btn btn-secondary">Cancel</button>
                </div>

            
        </form>
        {{ ckeditor.load() }}
        {{ ckeditor.config(name='body') }}

        <script src="/static/scripts/jquery.js" type="text/javascript" charset="utf-8"></script>
        <script src="/static/scripts/validate_form_input_length.js" type="text/javascript" charset="utf-8"></script>

	</div>

{% endblock %}